первая глобальная задача - генерить плоский код, эквивалентный оригинальному.

Для этого нужно разворачивать функции и классы, правильно подставляя
полученую развертку в места использования.

TODO: выделить всё, что может быть "побочным эффектом" (Супероптимизация)
TODO: паралельно разбору выполнять код? тогда будет возможность получать контекст рунтайма
TODO: стоп скопы - то, что оптимизировать не надо (например, внешние либы)
